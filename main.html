<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sandeep's Heart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Allura&display=swap">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        /* CSS variables for night mode (default) */
        :root {
            --body-bg-color: #000000;
            --text-color: #ffffff;
            --button-bg-color: #1f2937;
            --glow-color-1: #ec4899; /* Default Pink */
            --glow-color-2: #f43f5e; /* Default Red */
            --button-gradient: linear-gradient(to right, var(--glow-color-1), var(--glow-color-2));
            --day-glow-color-1: #ff69b4;
            --day-glow-color-2: #ff1493;
            --day-button-gradient: linear-gradient(to right, var(--day-glow-color-1), var(--day-glow-color-2));
        }
        /* Day mode styles - will be applied when the 'day-mode' class is active */
        body.day-mode {
            --body-bg-color: #f3f4f6; /* Light gray */
            --text-color: #000000;
            --button-bg-color: var(--body-bg-color);
        }
        body.day-mode footer,
        body.day-mode #main-content p {
            color: var(--text-color);
        }
        html {
            scroll-behavior: smooth;
        }
        #animation-content {
            scroll-margin-top: 6rem; /* Accounts for fixed header */
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--body-bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Ensure body takes at least full viewport height */
            position: relative;
            overflow-x: hidden;
            text-align: center;
            transition: background-color 0.5s ease-in-out, color 0.5s ease-in-out;
            padding: 1rem;
            /* REMOVED: padding-bottom as footer is no longer fixed */
        }
        #threeCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            transition: opacity 0.5s ease-in-out;
        }
        body.day-mode #threeCanvas {
            opacity: 0;
        }
        #dayBackground {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background-color: #87CEEB;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        body.day-mode #dayBackground {
            opacity: 1;
        }
        #main-content {
            width: 100%;
            max-width: 100%;
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            align-items: center;
            justify-content: flex-start;
            flex-grow: 1;
            padding: 1rem;
            gap: 1rem;
            margin-top: 4rem; /* Added top margin to account for fixed tab bar */
        }
        .main-title {
            font-family: 'Allura', cursive;
            animation: text-glow 4s ease-in-out infinite, fade-in 1s ease-in-out forwards;
            text-align: center;
            color: var(--glow-color-1);
            text-shadow: 0 0 5px var(--glow-color-1), 0 0 10px var(--glow-color-1), 0 0 15px var(--glow-color-1);
            opacity: 0;
            font-size: 3rem; /* Default font size for mobile */
        }
        #main-content p {
            animation: fade-in 1s ease-in-out forwards;
            animation-delay: 0.5s;
            opacity: 0;
        }
        @keyframes text-glow {
            0%, 100% {
                text-shadow: 0 0 5px var(--glow-color-1), 0 0 10px var(--glow-color-1), 0 0 15px var(--glow-color-1);
            }
            50% {
                text-shadow: 0 0 10px var(--glow-color-2), 0 0 20px var(--glow-color-2), 0 0 30px var(--glow-color-2);
            }
        }
        @keyframes fade-in {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        .heart-video {
            width: 100%;
            height: auto;
            max-height: 90vh;
            border-radius: 1rem;
            box-shadow: 0 0 10px var(--glow-color-1), 0 0 20px var(--glow-color-2);
            transition: box-shadow 0.5s ease-in-out;
            border: 2px solid transparent;
            background-image: linear-gradient(to right, #1f2937, #1f2937), var(--button-gradient);
            background-origin: border-box;
            background-clip: content-box, border-box;
            object-fit: cover;
        }
        /* Show animation below other tabs on mobile */
        @media (max-width: 767px) {
            #animation-content.always-visible {
                display: flex;
                order: 1;
                margin-top: 1rem;
                width: 100%;
                padding: 0 1rem;
            }
            .tab-buttons {
                margin-top: 1rem;
            }
        }
        @media (min-width: 768px) {
            .heart-video {
                width: 90vw;
                height: 80vh;
                border-radius: 1rem;
            }
            body {
                padding: 2rem; /* Larger padding for laptop */
            }
            .main-title {
                font-size: 5rem; /* Larger font size for laptop title */
            }
            .tab-buttons {
                margin-top: 3rem; /* Adjust margin for laptop */
            }
            .tab-content {
                padding: 2rem; /* Adjust padding for laptop tab content */
            }
            /* Ensure animation content is always visible on larger screens */
            #animation-content {
                display: flex; /* Always show the animation content */
                order: -1; /* Place it at the top by setting order to a low value */
                margin-top: 1rem; /* Reduced space */
            }
            /* Adjust the order of other tab contents to appear above the animation */
            .tab-content {
                order: 0; /* Default order for other tabs */
            }
        }
        .svg-heart {
            width: 80px;
            height: 80px;
            margin-bottom: 1rem;
            fill: url(#heart-gradient);
            animation: heart-pulse 1.5s ease-in-out infinite, heart-glow 4s ease-in-out infinite;
        }
        @keyframes heart-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        @keyframes heart-glow {
            0%, 100% { filter: drop-shadow(0 0 5px var(--glow-color-1)) drop-shadow(0 0 10px var(--glow-color-1)); }
            50% { filter: drop-shadow(0 0 10px var(--glow-color-2)) drop-shadow(0 0 20px var(--glow-color-2)); }
        }
        .shooting-star {
            position: absolute;
            background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0));
            border-radius: 50%;
            height: 2px;
            pointer-events: none;
            opacity: 0;
            animation: star-fall linear infinite;
        }
        @keyframes star-fall {
            0% { opacity: 0; transform: rotate(-45deg) translateX(0); }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { opacity: 0; transform: rotate(-45deg) translateX(400px); }
        }
        .color-picker-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            width: 100%;
            max-width: 800px;
            margin-bottom: 1rem;
            flex-wrap: nowrap;
        }
        .color-picker-group {
            display: flex;
            align-items: center;
            border-radius: 9999px;
            border: 2px solid transparent;
            background-image: linear-gradient(var(--button-bg-color), var(--button-bg-color)), var(--button-gradient);
            background-origin: border-box;
            background-clip: padding-box, border-box;
            transition: all 0.5s ease-in-out;
            margin: 0;
            flex-grow: 1;
        }
        .color-picker-group label {
            display: flex;
            align-items: center;
            padding: 0.2rem 0.6rem;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: bold; /* Added bold font weight */
            gap: 0.3rem;
        }
        .color-picker {
            width: 1.2rem;
            height: 1.2rem;
            margin-right: 0.2rem;
        }
        /* Day mode styles for color picker group */
        body.day-mode .color-picker-group {
            background: transparent;
            border: 2px solid transparent; /* Ensure transparent border for gradient to show */
            background-image: linear-gradient(var(--body-bg-color), var(--body-bg-color)), var(--day-button-gradient);
            background-origin: border-box;
            background-clip: padding-box, border-box;
        }
        body.day-mode .color-picker-group span {
            color: #000;
            font-weight: bold; /* Added bold font weight */
        }
        .color-picker {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 2rem;
            height: 2rem;
            background-color: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            overflow: hidden;
        }
        .color-picker::-webkit-color-swatch-wrapper {
            padding: 0;
        }
        .color-picker::-webkit-color-swatch {
            border: none;
            border-radius: 50%;
        }
        .color-picker::-moz-color-swatch {
            border: none;
            border-radius: 50%;
        }
        .button-group button,
        .color-picker-btn {
            border: 2px solid transparent;
            background-image: linear-gradient(var(--button-bg-color), var(--button-bg-color)), var(--button-gradient);
            background-origin: border-box;
            background-clip: padding-box, border-box;
            transition: transform 0.2s, box-shadow 0.2s, background-image 0.5s, color 0.5s;
            font-size: 0.875rem;
        }
        body.day-mode .button-group button {
            color: #000000;
            background-image: linear-gradient(var(--body-bg-color), var(--body-bg-color)), var(--day-button-gradient);
            background-origin: border-box;
            background-clip: padding-box, border-box;
            border: 2px solid transparent; /* Ensure transparent border for gradient to show */
        }
        body:not(.day-mode) .button-group button {
            color: #ffffff;
        }
        .button-group button:hover {
            animation: button-pop 0.3s forwards;
            box-shadow: 0 0 15px var(--glow-color-1), 0 0 25px var(--glow-color-2);
        }
        .button-group button:active {
            transform: scale(0.95);
        }
        @keyframes button-pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1.05); }
        }
        #day-night-toggle {
            position: fixed;
            top: 2rem;
            left: 2rem; /* Changed from right to left */
            z-index: 1000;
            cursor: pointer;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            /* Use CSS variables for dynamic theming */
            border: 2px solid var(--glow-color-1); /* Use glow color for border */
            background-color: var(--button-bg-color); /* Use button background color */
            transition: background-color 0.5s ease-in-out, border-color 0.5s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 10px var(--glow-color-1);
        }
        #day-night-toggle svg {
            width: 24px;
            height: 24px;
            fill: var(--glow-color-1); /* Use glow color for SVG fill */
            transition: fill 0.5s ease-in-out;
        }
        /* Sun icon and lines color in day mode */
        body.day-mode #day-night-toggle .sun {
            fill: gold;
            stroke: gold; /* Makes surrounding lines gold too */
        }
        /* REMOVED: theme-wipe related CSS */
        /*
        .theme-wipe {
            position: fixed;
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
            opacity: 1;
            transform: scale(0) translate(-50%, -50%);
            animation: theme-wipe 0.6s cubic-bezier(0.8, 0.2, 0.2, 0.8) forwards;
        }
        @keyframes theme-wipe {
            from { transform: scale(0) translate(-50%, -50%); }
            to { transform: scale(200) translate(-50%, -50%); }
        }
        */
        .light-bloom {
            position: fixed;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 999;
            animation: bloom-fade-out 0.8s ease-out forwards;
        }
        @keyframes bloom-fade-out {
            0% {
                width: 0; height: 0; opacity: 1;
                box-shadow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 40px currentColor;
            }
            100% {
                width: 200px; height: 200px; opacity: 0;
                box-shadow: 0 0 50px currentColor, 0 0 100px currentColor, 0 0 150px currentColor;
            }
        }
        #message-box {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(45, 212, 191, 0.9);
            color: white;
            padding: 1rem 2rem;
            border-radius: 9999px;
            box-shadow: 0 4px 15px rgba(45, 212, 191, 0.4);
            transition: opacity 0.5s ease-in-out;
            opacity: 0;
            pointer-events: none;
            z-index: 1000;
        }
        /* Tab specific styles */
        .tab-buttons {
            display: flex;
            justify-content: center;
            margin-top: 0; /* Adjusted for fixed positioning */
            margin-bottom: 0; /* Adjusted for fixed positioning */
            background-color: transparent;
            border-radius: 9999px;
            overflow: hidden;
            /* Use glow-color-1 for box-shadow */
            box-shadow: 0 0 10px var(--glow-color-1), 
                        inset 0 1px 1px rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            background-image: none;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            position: fixed; /* Changed to fixed positioning */
            top: 1rem; /* Position at top */
            right: 1rem; /* Position at right */
            z-index: 999; /* Ensure it's above other content */
            max-width: 400px; /* Increased width for broader tab bar */
            width: auto; /* Allow width to adjust based on content */
            padding: 0.25rem; /* Added padding for broader appearance */
        }
        .tab-button {
            position: relative;
            color: var(--text-color); /* Use text-color for tab button text */
            padding: 0.6rem 1.2rem; /* Increased padding for broader tabs */
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            background: transparent;
            flex-grow: 1;
            text-align: center;
            white-space: nowrap;
            z-index: 1;
            /* MODIFIED: text-shadow for tab buttons */
            text-shadow: 0 0 5px var(--glow-color-1); /* Default glow */
            animation: neon-pulse 2s infinite alternate;
            font-size: 0.9rem;
        }
        /* Day mode specific text-shadow for tab buttons */
        body.day-mode .tab-button {
            text-shadow: none; /* Remove text shadow in day mode */
        }
        
        .tab-button:hover {
            transform: translateY(-2px);
            animation: none;
            text-shadow: 0 0 10px var(--glow-color-1), 0 0 20px var(--glow-color-1);
        }
        /* Day mode specific hover text-shadow for tab buttons */
        body.day-mode .tab-button:hover {
            text-shadow: none; /* No text shadow on hover in day mode */
        }
        
        .tab-button:active {
            transform: scale(0.98);
        }
        
        @keyframes neon-pulse {
            from {
                text-shadow: 0 0 5px var(--glow-color-1);
            }
            to {
                text-shadow: 0 0 15px var(--glow-color-1), 0 0 25px var(--glow-color-2);
            }
        }
        /* Day mode specific neon-pulse animation */
        body.day-mode .tab-button {
            animation: none; /* Disable neon-pulse in day mode */
        }

        .tab-button:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 16px);
            height: 0;
            background-image: var(--button-gradient);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: -1;
            border-radius: 9999px;
        }
        .tab-button.active:after {
            height: 3px;
            background-image: none;
            background-color: var(--glow-color-1); /* Use glow color for active indicator */
            box-shadow: 0 0 15px var(--glow-color-1); /* Use glow color for active indicator shadow */
        }
        .tab-button.active {
            animation: none;
            text-shadow: 0 0 10px var(--glow-color-1), 0 0 20px var(--glow-color-1);
            transform: translateY(-1px);
        }
        /* Day mode specific active text-shadow for tab buttons */
        body.day-mode .tab-button.active {
            text-shadow: none; /* No text shadow for active tab in day mode */
        }

        /* Apply specific border-radius to first and last buttons */
        .tab-button:first-child {
            border-top-left-radius: 9999px;
            border-bottom-left-radius: 9999px;
        }
        .tab-button:last-child {
            border-top-right-radius: 9999px;
            border-bottom-right-radius: 9999px;
        }
        /* Add a right border to all but the last button for separation */
        .tab-button:not(:last-child) {
            border-right: 1px solid rgba(255, 255, 255, 0.2); /* Subtle separator */
        }
        /* Day mode specific border for tab buttons */
        body.day-mode .tab-button:not(:last-child) {
            border-right: 1px solid rgba(0, 0, 0, 0.1); /* Lighter separator in day mode */
        }

        .tab-button:hover {
            /* Keep existing hover effects, but remove individual button shadow if applied */
            box-shadow: none; /* Remove individual button shadow on hover */
        }
        .tab-button.active {
            background-color: transparent;
            color: var(--text-color);
            /* Remove individual button shadow for active state */
            box-shadow: none;
        }
        body.day-mode .tab-button.active {
            color: var(--text-color);
        }
        .tab-content {
            width: 100%;
            max-width: 800px; /* Adjust as needed */
            padding: 1rem;
            margin: 1rem 0; /* Reduced vertical spacing between sections */
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        /* Ensure tab-content background is transparent in day mode */
        body.day-mode .tab-content {
            background-color: transparent;
        }
        .tab-content.active {
            display: flex; /* Show active tab content */
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        /* MODIFIED: Footer positioning */
        footer {
            width: 100%;
            text-align: center;
            color: #6b7280;
            z-index: 10;
            padding: 1rem 0;
            margin-top: auto; /* Pushes footer to the bottom when content is short */
            /* REMOVED: position: fixed; bottom: 0; left: 0; right: 0; */
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* Responsive adjustments for tab bar */
        @media (max-width: 767px) {
            .tab-buttons {
                max-width: 280px; /* Increased width on mobile */
                top: 0.5rem; /* Adjust top position */
                right: 0.5rem; /* Adjust right position */
                padding: 0.2rem; /* Adjust padding */
            }
            
            .tab-button {
                font-size: 0.8rem; /* Slightly larger font on mobile */
                padding: 0.5rem 0.8rem; /* Adjust padding on mobile */
            }
            
            #day-night-toggle {
                top: 1rem; /* Adjust top position for mobile */
                left: 1rem; /* Adjust left position for mobile */
            }
        }
        
        @media (min-width: 768px) {
            .tab-buttons {
                max-width: 400px; /* Increased width on desktop */
                top: 1rem; /* Adjust top position */
                right: 1rem; /* Adjust right position */
                padding: 0.25rem; /* Adjust padding */
            }
            
            #day-night-toggle {
                top: 2rem; /* Adjust top position for desktop */
                left: 2rem; /* Adjust left position for desktop */
            }
        }

        /* Styles for the preset buttons within the presets tab */
        .preset-options-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem; /* Same gap as color-picker-container */
            width: 100%;
            max-width: 800px;
            margin-bottom: 1rem;
            flex-wrap: wrap; /* Allow wrapping for smaller screens */
        }

        .preset-group {
            display: flex;
            align-items: center;
            border-radius: 9999px;
            border: 2px solid transparent;
            background-image: linear-gradient(var(--button-bg-color), var(--button-bg-color)), var(--button-gradient);
            background-origin: border-box;
            background-clip: padding-box, border-box;
            transition: all 0.5s ease-in-out;
            margin: 0;
            flex-grow: 1; /* Allow groups to grow */
            min-width: 120px; /* Ensure a minimum width for each group */
            max-width: 200px; /* Max width for each group */
            cursor: pointer; /* Make the whole group clickable */
        }

        body.day-mode .preset-group {
            background: transparent;
            border: 2px solid transparent;
            background-image: linear-gradient(var(--body-bg-color), var(--body-bg-color)), var(--day-button-gradient);
            background-origin: border-box;
            background-clip: padding-box, border-box;
        }

        .preset-group:hover {
            animation: button-pop 0.3s forwards; /* Apply button pop animation on hover */
            box-shadow: 0 0 15px var(--glow-color-1), 0 0 25px var(--glow-color-2);
        }

        .preset-group:active {
            transform: scale(0.95); /* Apply active state */
        }

        .preset-group button {
            /* Reset button styles to let the parent .preset-group handle the styling */
            background: transparent;
            border: none;
            color: inherit; /* Inherit text color from parent */
            padding: 0.6rem 1.2rem; /* Adjust padding as needed */
            font-size: 0.8rem;
            font-weight: bold;
            cursor: pointer;
            flex-grow: 1; /* Make button fill the group */
            white-space: nowrap; /* Prevent text wrapping */
        }

        /* Ensure text color is correct in day mode for preset buttons */
        body.day-mode .preset-group button {
            color: #000;
        }
        body:not(.day-mode) .preset-group button {
            color: #ffffff;
        }

        /* Remove individual button hover/active effects as the parent group handles them */
        .preset-group button:hover,
        .preset-group button:active {
            animation: none;
            box-shadow: none;
            transform: none;
        }

        /* NEW: Hide animation content when About tab is active */
        body.about-tab-active #animation-content {
            display: none;
        }

        /* NEW: Day mode text colors for About and Presets tabs */
        body.day-mode #about-content h2,
        body.day-mode #about-content h3,
        body.day-mode #about-content p,
        body.day-mode #about-content ul,
        body.day-mode #about-content li,
        body.day-mode #about-content strong,
        body.day-mode #presets-content h2 { /* Added h2 for presets tab */
            color: var(--text-color); /* This will be black in day mode */
        }

        /* Specific adjustment for the grey text in About tab */
        body.day-mode #about-content p.text-gray-300,
        body.day-mode #about-content ul.text-gray-300 li {
            color: #4b5563; /* A darker grey for contrast, similar to Tailwind's gray-700 */
        }

        /* Ensure strong tags within lists in day mode are black */
        body.day-mode #about-content ul strong {
            color: var(--text-color); /* Should be black */
        }
    </style>
</head>
<body class="bg-black text-white">
    <script>
        // Check if the user is coming from the index page.
        const fromIndex = sessionStorage.getItem('fromIndex');
        if (fromIndex !== 'true') {
            // If the flag is not set, redirect to the landing page.
            window.location.href = 'index.html';
        } else {
            // If the flag is set, clear it immediately so that a page refresh
            // will cause a redirection back to index.html.
            sessionStorage.removeItem('fromIndex');
        }
    </script>
    <div id="dayBackground"></div>
    <div id="threeCanvas"></div>
    
    <button id="day-night-toggle">
        <svg class="sun hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
    </button>
    
    <div class="tab-buttons">
        <button class="tab-button active" data-tab="animation">Animation</button>
        <button class="tab-button" data-tab="edit">Edit</button>
        <button class="tab-button" data-tab="presets">Presets</button>
        <button class="tab-button" data-tab="about">About</button>
    </div>
    
    <main id="main-content" class="content-container mx-auto flex-grow flex flex-col items-center justify-center">
        <svg class="svg-heart" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="heart-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:rgb(236,72,153);stop-opacity:1" />
                    <stop offset="100%" style="stop-color:rgb(244,63,94);stop-opacity:1" />
                </linearGradient>
            </defs>
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3c3.08 0 5.5 2.42 5.5 5.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
        <h1 class="main-title text-5xl sm:text-6xl font-extrabold mb-4 tracking-tight leading-tight">
            Sandeep's Heart
        </h1>
        <p class="text-lg sm:text-xl text-gray-300 max-w-2xl">
            Welcome to the main section of Sandeep's Heart.
        </p>
        
        <div id="animation-content" class="tab-content">
            <video class="heart-video" autoplay loop muted playsinline>
                <source src="https://raw.githubusercontent.com/gsgsjssvsv1249/radharanii/main/heart.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <div id="edit-content" class="tab-content">
            <div class="color-picker-container">
                <div class="color-picker-group rounded-full shadow-sm">
                    <label class="flex items-center">
                        <input type="color" id="color1" class="color-picker" value="#ec4899">
                        <span class="ml-1 text-xs">Glow 1</span>
                    </label>
                </div>
                <div class="color-picker-group rounded-full shadow-sm">
                    <label class="flex items-center">
                        <input type="color" id="color2" class="color-picker" value="#f43f5e">
                        <span class="ml-1 text-xs">Glow 2</span>
                    </label>
                </div>
            </div>
            <div class="flex flex-row space-x-4 button-group">
                <button id="change-color-btn" class="color-button font-bold py-2 px-4 rounded-full shadow-lg text-sm">
                    Random Color
                </button>
                <button id="share-btn" class="color-button font-bold py-2 px-4 rounded-full shadow-lg text-sm">
                    Share
                </button>
            </div>
        </div>

        <div id="presets-content" class="tab-content">
            <h2 class="text-2xl font-bold mb-4">Choose a Theme Preset</h2>
            <div class="preset-options-container">
                <div class="preset-group" data-preset="default-night">
                    <button class="preset-btn">Default Night</button>
                </div>
                <div class="preset-group" data-preset="ocean-blue">
                    <button class="preset-btn">Ocean Blue</button>
                </div>
                <div class="preset-group" data-preset="forest-green">
                    <button class="preset-btn">Forest Green</button>
                </div>
                <div class="preset-group" data-preset="sunset-blaze">
                    <button class="preset-btn">Sunset Blaze</button>
                </div>
                <div class="preset-group" data-preset="cyber-punk">
                    <button class="preset-btn">Cyber Punk</button>
                </div>
                <div class="preset-group" data-preset="day-light">
                    <button class="preset-btn">Day Light</button>
                </div>
                </div>
        </div>

        <div id="about-content" class="tab-content">
            <h2 class="text-3xl font-extrabold mb-4 text-center">About Sandeep's Heart</h2>
            <p class="text-lg mb-4 text-gray-300">
                "Sandeep's Heart" is a personalized web experience designed to showcase dynamic visual effects and interactive customization. It's built as a tribute, offering a unique blend of aesthetics and user control.
            </p>
            <h3 class="text-2xl font-bold mb-3 text-left">What This Project Does:</h3>
            <ul class="list-disc list-inside text-left text-gray-300 mb-4 space-y-2">
                <li>
                    <strong class="text-white">Dynamic Background:</strong> Features a captivating 3D starfield animation that creates an immersive, cosmic atmosphere. This background dynamically changes with the day/night mode.
                </li>
                <li>
                    <strong class="text-white">Interactive Glow Effects:</strong> The main title and the central heart icon pulsate with vibrant, customizable glow effects, adding a lively touch to the interface.
                </li>
                <li>
                    <strong class="text-white">Customizable Colors:</strong> Provides extensive options to personalize the glow colors, allowing you to tailor the visual theme to your preference.
                </li>
                <li>
                    <strong class="text-white">Responsive Design:</strong> Optimized for various screen sizes, ensuring a consistent and engaging experience on both mobile and desktop devices.
                </li>
            </ul>

            <h3 class="text-2xl font-bold mb-3 text-left">How to Use the Options:</h3>
            <ul class="list-disc list-inside text-left text-gray-300 mb-4 space-y-2">
                <li>
                    <strong class="text-white">Day/Night Toggle:</strong> Located at the top-left corner, this button allows you to switch between a dark, star-filled night mode and a bright, serene day mode. Watch how the background and overall color scheme transform!
                </li>
                <li>
                    <strong class="text-white">Navigation Tabs (Top-Right):</strong>
                    <ul class="list-circle list-inside ml-4 space-y-1">
                        <li><strong class="text-white">Animation:</strong> This is the default view, displaying the main heart animation and the dynamic background.</li>
                        <li><strong class="text-white">Edit:</strong> Dive into customization here!
                            <ul class="list-square list-inside ml-4 space-y-1">
                                <li><strong class="text-white">Glow 1 & Glow 2 Color Pickers:</strong> Use these to select your desired primary and secondary glow colors. Experiment to find your perfect combination!</li>
                                <li><strong class="text-white">Random Color Button:</strong> Feeling adventurous? Click this to instantly apply a new, randomly generated color scheme to the glow effects.</li>
                                <li><strong class="text-white">Share Button:</strong> Easily share this project with others via your device's native sharing options or by copying the URL.</li>
                            </ul>
                        </li>
                        <li><strong class="text-white">Presets:</strong> Not sure where to start with colors? This tab offers a collection of pre-designed color themes. Simply click on a preset to instantly apply a new look.</li>
                        <li><strong class="text-white">About:</strong> You're here! This section provides details about the project and guides you through its features.</li>
                    </ul>
                </li>
            </ul>
            <p class="text-lg text-gray-300">
                We hope you enjoy exploring and customizing "Sandeep's Heart"!
            </p>
        </div>
    </main>
    <div id="message-box" role="status">
        URL copied to clipboard!
    </div>
    <footer class="w-full text-center text-gray-500 z-10 py-4">
        <p class="text-sm">
            Built by <a href="https://t.me/HackerXBhai" class="text-blue-400 hover:underline">@HackerXBhai</a>. The source code is available on <a href="https://t.me/HackerXBhai" class="text-blue-400 hover:underline">Telegram</a>.
        </p>
    </footer>
    <script>
        // --- Core Page Logic ---
        const colorBtn = document.getElementById('change-color-btn');
        const shareBtn = document.getElementById('share-btn');
        const messageBox = document.getElementById('message-box');
        const dayNightToggleBtn = document.getElementById('day-night-toggle');
        const body = document.body;
        const mainContent = document.getElementById('main-content');
        // Color picker elements
        const color1Input = document.getElementById('color1');
        const color2Input = document.getElementById('color2');
        // Tab elements
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        // --- Theme Presets Data ---
        const themePresets = {
            "default-night": {
                glow1: "#ec4899", // Default Pink
                glow2: "#f43f5e", // Default Red
                bodyBg: "#000000",
                text: "#ffffff",
                buttonBg: "#1f2937",
                isDayMode: false
            },
            "ocean-blue": {
                glow1: "#00bfff", // Deep Sky Blue
                glow2: "#1e90ff", // Dodger Blue
                bodyBg: "#0a192f",
                text: "#e6f1ff",
                buttonBg: "#1c2b40",
                isDayMode: false
            },
            "forest-green": {
                glow1: "#32cd32", // Lime Green
                glow2: "#228b22", // Forest Green
                bodyBg: "#1a2a1a",
                text: "#e0ffe0",
                buttonBg: "#2c3c2c",
                isDayMode: false
            },
            "sunset-blaze": {
                glow1: "#ff8c00", // Dark Orange
                glow2: "#ff4500", // Orange Red
                bodyBg: "#2a0a0a",
                text: "#fffacd",
                buttonBg: "#3a1a1a",
                isDayMode: false
            },
            "cyber-punk": {
                glow1: "#00ffff", // Cyan
                glow2: "#ff00ff", // Magenta
                bodyBg: "#0d0d1a",
                text: "#00ff00",
                buttonBg: "#1a1a2a",
                isDayMode: false
            },
            "day-light": { // Example day mode preset
                glow1: "#ff69b4", // Hot Pink
                glow2: "#ff1493", // Deep Pink
                bodyBg: "#f3f4f6", // Light gray
                text: "#000000", // Black
                buttonBg: "#f3f4f6", // Light gray
                isDayMode: true
            }
            // Add more presets here!
        };

        // Function to update all colors based on the chosen palette
        function updateColors(glow1, glow2) {
            const root = document.documentElement;
            // Set the main glow and gradient colors based on the mode
            root.style.setProperty('--glow-color-1', glow1);
            root.style.setProperty('--glow-color-2', glow2);
            root.style.setProperty('--button-gradient', `linear-gradient(to right, ${glow1}, ${glow2})`);
            // Update day mode specific gradients if needed
            root.style.setProperty('--day-glow-color-1', glow1);
            root.style.setProperty('--day-glow-color-2', glow2);
            root.style.setProperty('--day-button-gradient', `linear-gradient(to right, ${glow1}, ${glow2})`);
        }

        // Function to generate a random hex color
        function getRandomHexColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        // MODIFIED: Simplified toggleDayNightMode function
        function toggleDayNightMode() {
            body.classList.toggle('day-mode');
            const sunIcon = dayNightToggleBtn.querySelector('.sun');
            const moonIcon = dayNightToggleBtn.querySelector('.moon');
            if (body.classList.contains('day-mode')) {
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
            } else {
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
            }
            // Reapply colors to handle day/night mode specific changes
            updateColors(color1Input.value, color2Input.value);
        }

        function createLightBloom(x, y) {
            if (!body.classList.contains('day-mode')) {
                return;
            }
            const bloom = document.createElement('div');
            bloom.classList.add('light-bloom');
            bloom.style.top = `${y}px`;
            bloom.style.left = `${x}px`;
            bloom.style.color = color1Input.value; // Use currentColor to pass the glow color
            document.body.appendChild(bloom);
            setTimeout(() => {
                bloom.remove();
            }, 800);
        }

        // --- Preset Application Function ---
        function applyThemePreset(presetName) {
            const preset = themePresets[presetName];
            if (!preset) {
                console.error("Preset not found:", presetName);
                return;
            }

            const root = document.documentElement;

            // Apply core colors
            root.style.setProperty('--glow-color-1', preset.glow1);
            root.style.setProperty('--glow-color-2', preset.glow2);
            root.style.setProperty('--body-bg-color', preset.bodyBg);
            root.style.setProperty('--text-color', preset.text);
            root.style.setProperty('--button-bg-color', preset.buttonBg);

            // Update day/night mode class
            if (preset.isDayMode) {
                body.classList.add('day-mode');
                // Hide moon icon, show sun icon
                dayNightToggleBtn.querySelector('.moon').classList.add('hidden');
                dayNightToggleBtn.querySelector('.sun').classList.remove('hidden');
            } else {
                body.classList.remove('day-mode');
                // Hide sun icon, show moon icon
                dayNightToggleBtn.querySelector('.sun').classList.add('hidden');
                dayNightToggleBtn.querySelector('.moon').classList.remove('hidden');
            }

            // Re-apply gradients based on new glow colors (handled by updateColors)
            updateColors(preset.glow1, preset.glow2);

            // Update color picker inputs in the Edit tab
            color1Input.value = preset.glow1;
            color2Input.value = preset.glow2;
        }

        // Event listener for the day/night toggle button
        if (dayNightToggleBtn) {
            dayNightToggleBtn.addEventListener('click', toggleDayNightMode);
        }

        // Event listener for the "Random Color" button
        if (colorBtn) {
            colorBtn.addEventListener('click', () => {
                const randomColor1 = getRandomHexColor();
                const randomColor2 = getRandomHexColor();
                color1Input.value = randomColor1;
                color2Input.value = randomColor2;
                updateColors(randomColor1, randomColor2);
            });
        }

        // Event listeners for color picker inputs
        if (color1Input && color2Input) {
            color1Input.addEventListener('input', handleColorChange);
            color2Input.addEventListener('input', handleColorChange);
        }

        document.addEventListener('click', (event) => {
            createLightBloom(event.clientX, event.clientY);
        });

        if (shareBtn) {
            shareBtn.addEventListener('click', () => {
                if (navigator.share) {
                    navigator.share({
                        title: 'Sandeep\'s Heart',
                        text: 'Welcome to the main section of Sandeep\'s Heart.',
                        url: window.location.href
                    }).then(() => {
                        messageBox.textContent = 'Shared successfully!';
                        messageBox.style.backgroundColor = 'rgba(45, 212, 191, 0.9)';
                        messageBox.style.opacity = '1';
                        setTimeout(() => { messageBox.style.opacity = '0'; }, 3000);
                    }).catch((error) => {
                        console.error('Sharing failed:', error);
                        messageBox.textContent = 'Sharing cancelled or failed.';
                        messageBox.style.backgroundColor = 'rgba(239, 68, 68, 0.9)';
                        messageBox.style.opacity = '1';
                        setTimeout(() => { messageBox.style.opacity = '0'; }, 3000);
                    });
                } else {
                    const url = window.location.href;
                    const textarea = document.createElement('textarea');
                    textarea.value = url;
                    document.body.appendChild(textarea);
                    textarea.select();
                    try {
                        document.execCommand('copy');
                        messageBox.textContent = 'URL copied to clipboard!';
                        messageBox.style.backgroundColor = 'rgba(45, 212, 191, 0.9)';
                    } catch (err) {
                        messageBox.textContent = 'Failed to copy URL.';
                        messageBox.style.backgroundColor = 'rgba(239, 68, 68, 0.9)';
                    }
                    document.body.removeChild(textarea);
                    messageBox.style.opacity = '1';
                    setTimeout(() => { messageBox.style.opacity = '0'; }, 3000);
                }
            });
        }

        // --- 3D Starfield Background Script with Three.js ---
        let scene, camera, renderer, starGeo, stars;
        let mouseX = 0, mouseY = 0;
        function initThreeJS() {
            if (!THREE) {
                console.error('Three.js library is not loaded.');
                return;
            }
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
            camera.position.z = 1;
            camera.rotation.x = Math.PI / 2;
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.domElement.style.position = 'fixed';
            renderer.domElement.style.top = '0';
            renderer.domElement.style.left = '0';
            renderer.domElement.style.zIndex = '-1';
            document.getElementById('threeCanvas').appendChild(renderer.domElement);
            starGeo = new THREE.BufferGeometry();
            const starCount = 10000;
            const positions = [];
            const velocities = [];
            for (let i = 0; i < starCount; i++) {
                positions.push((Math.random() - 0.5) * 600, (Math.random() - 0.5) * 600, (Math.random() - 0.5) * 600);
                velocities.push(0, 0, Math.random() * 0.2 + 0.1);
            }
            starGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
            starGeo.setAttribute('velocity', new THREE.Float32BufferAttribute(velocities, 3));
            const starMaterial = new THREE.PointsMaterial({
                color: 0xaaaaaa,
                size: 1.0,
                transparent: true,
                opacity: 0.9
            });
            stars = new THREE.Points(starGeo, starMaterial);
            scene.add(stars);
            window.addEventListener('mousemove', onMouseMove, false);
            window.addEventListener('resize', onWindowResize, false);
        }
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        function onMouseMove(event) {
            mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
        }
        function createShootingStar() {
            const star = document.createElement('div');
            star.classList.add('shooting-star');
            star.style.width = `${Math.random() * 50 + 50}px`;
            star.style.top = `${Math.random() * window.innerHeight}px`;
            star.style.left = `${Math.random() * window.innerWidth}px`;
            star.style.animationDuration = `${Math.random() * 2 + 1}s`;
            star.style.animationDelay = `${Math.random() * 2}s`;
            document.body.appendChild(star);
            setTimeout(() => {
                star.remove();
            }, (Math.random() * 2 + 1) * 1000 + (Math.random() * 2) * 1000);
        }
        // --- Animation Loop ---
        function animate() {
            requestAnimationFrame(animate);
            if (!body.classList.contains('day-mode')) {
                const positions = starGeo.attributes.position.array;
                const velocities = starGeo.attributes.velocity.array;
                for (let i = 0; i < positions.length; i += 3) {
                    positions[i + 2] += velocities[i + 2];
                    if (positions[i + 2] > camera.position.z) {
                        positions[i + 2] = -600;
                        velocities[i + 2] = Math.random() * 0.2 + 0.1;
                    }
                }
                starGeo.attributes.position.needsUpdate = true;
                camera.position.x += (mouseX * 0.5 - camera.position.x) * 0.05;
                camera.position.y += (mouseY * 0.5 - camera.position.y) * 0.05;
                camera.lookAt(scene.position);
                renderer.render(scene, camera);
            }
        }
        // --- Tab Functionality ---
        function updateActiveTab(visibleSection) {
            tabButtons.forEach(button => {
                button.classList.remove('active');
                if (button.dataset.tab === visibleSection) {
                    button.classList.add('active');
                }
            });
        }

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetSection = document.getElementById(`${button.dataset.tab}-content`);
                targetSection.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Intersection Observer to track visible section
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const visibleId = entry.target.id.replace('-content', '');
                    updateActiveTab(visibleId);
                }
            });
        }, { threshold: 0.5 });

        // Observe all sections
        tabContents.forEach(section => {
            observer.observe(section);
        });

        // Event listeners for preset buttons (now on the parent div.preset-group)
        document.querySelectorAll('.preset-group').forEach(group => {
            group.addEventListener('click', (event) => {
                const presetName = group.dataset.preset; // Get data-preset from the group
                applyThemePreset(presetName);
            });
        });

        window.onload = function() {
            initThreeJS();
            animate();
            setInterval(createShootingStar, 5000);
            // Apply a default preset on load
            applyThemePreset("default-night");
            // Set initial active tab
            document.querySelector('.tab-button[data-tab="animation"]').click();
        };
    </script>
</body>
</html>
